{"version":3,"sources":["./src/app/auth/registro/registro.page.ts","./src/app/auth/registro/registro.page.scss","./src/app/auth/registro/registro.page.html","./src/app/auth/registro/registro.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAkD;AACuB;AAGM;AAExB;IAO1C,YAAY,SAAZ,YAAY;IAavB,YAAoB,WAAwB,EAAU,gBAAkC;QAApE,gBAAW,GAAX,WAAW,CAAa;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAZxF,YAAO,GAAoB;YACzB,MAAM,EAAE,EAAE;YACV,SAAS,EAAE,EAAE;YACb,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE,EAAE;YACZ,MAAM,EAAE,EAAE;YACV,SAAS,EAAE,CAAC;SACb,CAAC;IAI0F,CAAC;IAE7F,QAAQ;QACN,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,CAAC,SAAS,CACjD,IAAI,CAAC,EAAE;YACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACzB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,SAAS;QACP,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAChD,GAAG,EAAE;YACH,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QACpC,CAAC,CACF,CAAC;IACJ,CAAC;IAEK,iBAAiB;;YACrB,MAAM,KAAK,GAAG,MAAM,sDAAM,CAAC,QAAQ,CAAC;gBAClC,MAAM,EAAE,4DAAY,CAAC,MAAM;gBAC3B,OAAO,EAAE,EAAE;gBACX,MAAM,EAAE,GAAG;gBACX,KAAK,EAAE,GAAG;gBACV,YAAY,EAAE,IAAI;gBAClB,UAAU,EAAE,gEAAgB,CAAC,OAAO;aACrC,CAAC,CAAC;YACH,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC;QACtC,CAAC;KAAA;IAEK,kBAAkB;;YACtB,MAAM,KAAK,GAAG,MAAM,sDAAM,CAAC,QAAQ,CAAC;gBAClC,MAAM,EAAE,4DAAY,CAAC,MAAM;gBAC3B,MAAM,EAAE,GAAG;gBACX,KAAK,EAAE,GAAG;gBACV,YAAY,EAAE,IAAI;gBAClB,UAAU,EAAE,gEAAgB,CAAC,OAAO;aACrC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC;QACtC,CAAC;KAAA;CACF;;YA/DQ,kEAAW;YAFX,4FAAgB;;AASZ,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,gFAAmC;;KAEpC,CAAC;GACW,YAAY,CAwDxB;AAxDwB;;;;;;;;;;;;;ACbzB;AAAe,6GAA8C,uHAAuH,E;;;;;;;;;;;;ACApL;AAAe,s0CAAuwC,GAAG,+2DAA+2D,kBAAkB,+/CAA+/C,E;;;;;;;;;;;;;;;;;;;;;;ACAhnJ;AACM;AACF;AAEA;AAEE;AACQ;AAEvD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF;IAWY,kBAAkB,SAAlB,kBAAkB;CAAG;AAArB,kBAAkB;IAT9B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,2DAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH","file":"registro-registro-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/core';\r\nimport { CameraPlugin } from 'src/app/interfaces/native-plugins/CameraPlugin';\r\nimport { Provincia } from 'src/app/interfaces/Provincia';\r\nimport { ProvinciaService } from 'src/app/usuarios/services/provincia.service';\r\nimport { UsuarioRegistro } from '../interfaces/UsuarioRegistro';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-registro',\r\n  templateUrl: './registro.page.html',\r\n  styleUrls: ['./registro.page.scss'],\r\n})\r\nexport class RegistroPage implements OnInit, CameraPlugin {\r\n  usuario: UsuarioRegistro = {\r\n    nombre: '',\r\n    apellidos: '',\r\n    email: '',\r\n    nickname: '',\r\n    password: '',\r\n    avatar: '',\r\n    provincia: 1\r\n  };\r\n  password2: string;\r\n  provincias: Provincia[];\r\n\r\n  constructor(private authService: AuthService, private provinciaService: ProvinciaService) { }\r\n\r\n  ngOnInit() {\r\n    this.provinciaService.obtenerProvincias().subscribe(\r\n      resp => {\r\n        console.log(resp);\r\n        this.provincias = resp;\r\n      }\r\n    );\r\n  }\r\n\r\n  registrar() {\r\n    console.log(this.usuario);\r\n    this.authService.registrar(this.usuario).subscribe(\r\n      () => {\r\n        console.log('Usuario registrado');\r\n      }\r\n    );\r\n  }\r\n\r\n  async obtenerFotoCamara() {\r\n    const photo = await Camera.getPhoto({\r\n      source: CameraSource.Camera,\r\n      quality: 90,\r\n      height: 640,\r\n      width: 640,\r\n      allowEditing: true,\r\n      resultType: CameraResultType.DataUrl\r\n    });\r\n    this.usuario.avatar = photo.dataUrl;\r\n  }\r\n\r\n  async obtenerFotoGaleria() {\r\n    const photo = await Camera.getPhoto({\r\n      source: CameraSource.Photos,\r\n      height: 640,\r\n      width: 640,\r\n      allowEditing: true,\r\n      resultType: CameraResultType.DataUrl\r\n    });\r\n\r\n    this.usuario.avatar = photo.dataUrl;\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3Ryby5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"tertiary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n    </ion-buttons>\\r\\n    <ion-title>Registro</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n  <form #registerForm=\\\"ngForm\\\" (ngSubmit)=\\\"registrar()\\\">\\r\\n    <ion-list>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Name</ion-label>\\r\\n        <ion-input name=\\\"name\\\" required [(ngModel)]=\\\"usuario.nombre\\\" #nameModel=\\\"ngModel\\\"></ion-input>\\r\\n        <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"end\\\" color=\\\"success\\\" *ngIf=\\\"nameModel.dirty && nameModel.valid\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Apellidos</ion-label>\\r\\n        <ion-input name=\\\"apellidos\\\" required [(ngModel)]=\\\"usuario.apellidos\\\" #apellidosModel=\\\"ngModel\\\"></ion-input>\\r\\n        <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"end\\\" color=\\\"success\\\" *ngIf=\\\"apellidosModel.dirty && apellidosModel.valid\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Email</ion-label>\\r\\n        <ion-input type=\\\"email\\\" name=\\\"email\\\" required [(ngModel)]=\\\"usuario.email\\\" #emailModel=\\\"ngModel\\\" pattern=\\\"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,}$\\\"></ion-input>\\r\\n        <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"end\\\" color=\\\"success\\\" *ngIf=\\\"emailModel.dirty && emailModel.valid\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Nickname</ion-label>\\r\\n        <ion-input name=\\\"nickname\\\" required [(ngModel)]=\\\"usuario.nickname\\\" #nicknameModel=\\\"ngModel\\\"></ion-input>\\r\\n        <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"end\\\" color=\\\"success\\\" *ngIf=\\\"nicknameModel.dirty && nicknameModel.valid\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <div ngModelGroup=\\\"passwordGroup\\\" #passwordGroupModel=\\\"ngModelGroup\\\" appMatch=\\\"password,password2\\\">\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"floating\\\">Password</ion-label>\\r\\n          <ion-input type=\\\"password\\\" name=\\\"password\\\" minlength=\\\"4\\\" required [(ngModel)]=\\\"usuario.password\\\" #passwordModel=\\\"ngModel\\\"></ion-input>\\r\\n          <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"end\\\" color=\\\"success\\\" *ngIf=\\\"passwordModel.dirty && passwordModel.valid\\\"></ion-icon>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"floating\\\">Password</ion-label>\\r\\n          <ion-input type=\\\"password\\\" name=\\\"password2\\\" minlength=\\\"4\\\" required [(ngModel)]=\\\"password2\\\" #passwordModel2=\\\"ngModel\\\"></ion-input>\\r\\n          <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"end\\\" color=\\\"success\\\" *ngIf=\\\"passwordModel2.dirty && passwordGroupModel.valid\\\"></ion-icon>\\r\\n        </ion-item>\\r\\n      </div>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Provincia</ion-label>\\r\\n        <ion-select required #provinciaModel=\\\"ngModel\\\" name=\\\"provincia\\\" [(ngModel)]=\\\"usuario.provincia\\\">\\r\\n          <ion-select-option value=\\\"0\\\">Choose a province...</ion-select-option>\\r\\n          <ion-select-option *ngFor=\\\"let provincia of provincias\\\" [value]=\\\"provincia.id\\\">{{provincia.nombre}}</ion-select-option>\\r\\n        </ion-select>\\r\\n        <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"end\\\" color=\\\"success\\\" *ngIf=\\\"provinciaModel.dirty && provinciaModel.valid && provinciaModel.value !== 0\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"inset\\\">Avatar</ion-label>\\r\\n        <ion-button color=\\\"secondary\\\" (click)=\\\"obtenerFotoCamara()\\\">\\r\\n          <ion-icon name=\\\"camera\\\" slot=\\\"start\\\"></ion-icon>\\r\\n          Camera\\r\\n        </ion-button>\\r\\n        <ion-button color=\\\"tertiary\\\" (click)=\\\"obtenerFotoGaleria()\\\">\\r\\n          <ion-icon name=\\\"images\\\" slot=\\\"start\\\"></ion-icon>\\r\\n          Gallery\\r\\n        </ion-button>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-img [src]=\\\"usuario.avatar\\\" *ngIf=\\\"usuario.avatar\\\"></ion-img>\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-button type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"block\\\" [disabled]=\\\"registerForm.invalid || !usuario.avatar\\\">\\r\\n            <ion-icon name=\\\"paper-plane\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            Register\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n        <ion-col>\\r\\n          <ion-button color=\\\"danger\\\" expand=\\\"block\\\" fill=\\\"outline\\\" [routerLink]=\\\"['/auth/login']\\\" [routerDirection]=\\\"'root'\\\">\\r\\n            <ion-icon name=\\\"arrow-undo\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            Cancel\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegistroPage } from './registro.page';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegistroPage\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RegistroPage]\r\n})\r\nexport class RegistroPageModule {}\r\n"],"sourceRoot":"webpack:///"}