{"version":3,"sources":["./src/app/features/carro-compra/carro-compra/carro-compra.page.html","./src/app/features/carro-compra/carro-compra/carro-compra.module.ts","./src/app/features/carro-compra/carro-compra/carro-compra.page.ts","./src/app/features/carro-compra/carro-compra/carro-compra.page.scss"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,gRAAiN,eAAe,uTAAuT,mCAAmC,yCAAyC,qEAAqE,4eAA4e,0BAA0B,uiBAAuiB,gGAAgG,wkBAAwkB,8CAA8C,4tCAA4tC,qCAAqC,uGAAuG,iFAAiF,ukBAAukB,OAAO,mCAAmC,E;;;;;;;;;;;;;;;;;;;;;;ACA37I;AACM;AACF;AAEA;AAES;AACC;AAEvD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAe;KAC3B;CACF,CAAC;IAWW,qBAAqB,SAArB,qBAAqB;CAAG;AAAxB,qBAAqB;IATjC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,kEAAe,CAAC;KAChC,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACzBgB;AAGoB;IAOzD,eAAe,SAAf,eAAe;IAI1B,YAAoB,YAAgC;QAAhC,iBAAY,GAAZ,YAAY,CAAoB;QAFpD,UAAK,GAAW,EAAE,CAAC;IAEqC,CAAC;IAEzD,QAAQ;QACN,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IAED,uBAAuB;QACrB,IAAI,CAAC,YAAY,CAAC,uBAAuB,EAAE,CAAC,SAAS,CACnD,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC/B,CAAC,EACD,KAAK,CAAC,EAAE;YACN,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC5C,CAAC,CACF,CAAC;IACJ,CAAC;IAED,uBAAuB,CAAC,YAAoB,EAAE,iBAAyB,EAAE,eAAuB;QAC9F,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC,SAAS,CAChF,GAAG,EAAE;YACH,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAClC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QACnD,CAAC,CACF,CAAC;IACJ,CAAC;IAED,uBAAuB,CAAC,UAAsB,EAAE,eAA4B;QAC1E,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,UAAU,EAAC,eAAe,CAAC,CAAC,SAAS,CACnE,IAAI,CAAC,EAAE;YACL,MAAM,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAC3C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,KAAK,eAAe,CAAC,UAAU,CAAC,EAAE,CACvD,CAAC;YACF,UAAU,CAAC,QAAQ,IAAI,CAAC,CAAC;QAC3B,CAAC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CAAC,UAAsB,EAAE,eAA4B;QAC7E,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,UAAU,EAAC,eAAe,CAAC,CAAC,SAAS,CACtE,IAAI,CAAC,EAAE;YACL,MAAM,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAC3C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,KAAK,eAAe,CAAC,UAAU,CAAC,EAAE,CACvD,CAAC;YACF,UAAU,CAAC,QAAQ,IAAI,CAAC,CAAC;QAC3B,CAAC,CACF,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CACjC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAClD,CAAC;SACH;IAEH,CAAC;IAED,cAAc;QACZ,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAClC,CAAC;CACF;;YAvEQ,iFAAkB;;AAOd,eAAe;IAL3B,+DAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,oFAAuC;;KAExC,CAAC;GACW,eAAe,CAgE3B;AAhE2B;;;;;;;;;;;;;ACV5B;AAAe,kFAAmB,oBAAoB,qBAAqB,GAAG,6CAA6C,2VAA2V,E","file":"carro-compra-carro-compra-carro-compra-module.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Mi carro compra</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-item-sliding *ngFor=\\\"let videojuegoCarro of videojuegosCarro; let i = index;\\\">\\r\\n    <ion-item>\\r\\n      <ion-thumbnail slot=\\\"start\\\">\\r\\n        <img [src]=\\\"videojuegoCarro.videojuego.imagen\\\">\\r\\n      </ion-thumbnail>\\r\\n\\r\\n      <ion-grid>\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col size=\\\"5\\\">\\r\\n            <ion-label>\\r\\n              <h3>{{videojuegoCarro.videojuego.nombre}}</h3>\\r\\n              <!--<h4>Precio: {{videojuegoCarro.videojuego.precio | currency:'EUR':'symbol':'0.0-2'}}</h4>-->\\r\\n            </ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"3\\\" class=\\\"ion-align-self-center\\\">\\r\\n            <ion-button color=\\\"medium\\\" fill=\\\"clear\\\" (click)=\\\"decrementarStockVideojuego(videojuegoCarro.videojuego, videojuegoCarro)\\\">\\r\\n              <ion-icon name=\\\"remove-circle\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\r\\n            {{videojuegoCarro.cantidad}}\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\r\\n            <ion-button color=\\\"medium\\\" fill=\\\"clear\\\" (click)=\\\"aumentarStockVideojuego(videojuegoCarro.videojuego, videojuegoCarro)\\\">\\r\\n              <ion-icon name=\\\"add-circle\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-align-items-end\\\">\\r\\n          <ion-col size=\\\"4\\\" offset=\\\"8\\\">\\r\\n            <p class=\\\"style-item-cart\\\">\\r\\n              {{videojuegoCarro.cantidad * videojuegoCarro.videojuego.precio | currency:'EUR':'symbol':'0.0-2'}}\\r\\n            </p>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-item>\\r\\n    <ion-item-options side=\\\"end\\\">\\r\\n      <ion-item-option color=\\\"danger\\\" (click)=\\\"eliminarVideojuegoCarro(videojuegoCarro.videojuego.id, videojuegoCarro.id, i)\\\">Borrar</ion-item-option>\\r\\n    </ion-item-options>\\r\\n  </ion-item-sliding>\\r\\n\\r\\n  <ion-item *ngIf=\\\"videojuegosCarro\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"9\\\">\\r\\n          Total:\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\" class=\\\"ion-text-end\\\">\\r\\n          {{getTotal() | currency:'EUR':'symbol':'0.0-2'}}\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </ion-item>\\r\\n\\r\\n  <!--<ion-list>\\r\\n    <ion-item *ngFor=\\\"let videojuegoCarro of videojuegosCarro\\\" class=\\\"ion-text-wrap\\\">\\r\\n      <ion-grid>\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\r\\n            <ion-button color=\\\"medium\\\" fill=\\\"clear\\\">\\r\\n              <ion-icon name=\\\"remove-circle\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\r\\n            10\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\r\\n            <ion-button color=\\\"medium\\\" fill=\\\"clear\\\">\\r\\n              <ion-icon name=\\\"add-circle\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"2\\\" offset=\\\"4\\\">\\r\\n            <ion-button color=\\\"medium\\\" fill=\\\"clear\\\">\\r\\n              <ion-icon name=\\\"close-circle\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"9\\\">\\r\\n            <b>{{ videojuegoCarro.videojuego.nombre }}</b>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"3\\\" class=\\\"ion-text-end\\\">\\r\\n            {{ videojuegoCarro.cantidad * videojuegoCarro.videojuego.precio | currency:'EUR' }}\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-grid>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"9\\\">\\r\\n            Total:\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"3\\\" class=\\\"ion-text-end\\\">\\r\\n            10\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-item>\\r\\n  </ion-list>-->\\r\\n\\r\\n  <ion-button *ngIf=\\\"videojuegosCarro\\\" expand=\\\"full\\\">\\r\\n    Realizar compra\\r\\n  </ion-button>\\r\\n\\r\\n  <div *ngIf=\\\"error\\\" class=\\\"alert alert-danger\\\">\\r\\n    {{error}}\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CarroCompraPage } from './carro-compra.page';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CarroCompraPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [CarroCompraPage]\r\n})\r\nexport class CarroCompraPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Videojuego } from 'src/app/videojuegos/interfaces/Videojuego';\r\nimport { CarroCompra } from '../interfaces/carro-compra';\r\nimport { CarroCompraService } from '../services/carro-compra.service';\r\n\r\n@Component({\r\n  selector: 'app-carro-compra',\r\n  templateUrl: './carro-compra.page.html',\r\n  styleUrls: ['./carro-compra.page.scss'],\r\n})\r\nexport class CarroCompraPage implements OnInit {\r\n  videojuegosCarro: CarroCompra[];\r\n  error: string = '';\r\n\r\n  constructor(private carroService: CarroCompraService) { }\r\n\r\n  ngOnInit() {\r\n    this.obtenerVideojuegosCarro();\r\n  }\r\n\r\n  obtenerVideojuegosCarro() {\r\n    this.carroService.obtenerVideojuegosCarro().subscribe(\r\n      resp => {\r\n        this.videojuegosCarro = resp;\r\n      },\r\n      error => {\r\n        this.error = error.error.errores.mensajes;\r\n      }\r\n    );\r\n  }\r\n\r\n  eliminarVideojuegoCarro(idVideojuego: number, idVideojuegoCarro: number, indexVideojuego: number) {\r\n    this.carroService.removeVideojuegoCarro(idVideojuego, idVideojuegoCarro).subscribe(\r\n      () => {\r\n        console.log('videojuego borrado');\r\n        this.videojuegosCarro.splice(indexVideojuego, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  aumentarStockVideojuego(videojuego: Videojuego, videojuegoCarro: CarroCompra) {\r\n    this.carroService.aumentarStock(videojuego,videojuegoCarro).subscribe(\r\n      resp => {\r\n        const videojuego = this.videojuegosCarro.find(\r\n          v => v.videojuego.id === videojuegoCarro.videojuego.id\r\n        );\r\n        videojuego.cantidad += 1;\r\n      }\r\n    );\r\n  }\r\n\r\n  decrementarStockVideojuego(videojuego: Videojuego, videojuegoCarro: CarroCompra) {\r\n    this.carroService.decrementarStock(videojuego,videojuegoCarro).subscribe(\r\n      resp => {\r\n        const videojuego = this.videojuegosCarro.find(\r\n          v => v.videojuego.id === videojuegoCarro.videojuego.id\r\n        );\r\n        videojuego.cantidad -= 1;\r\n      }\r\n    );\r\n  }\r\n\r\n  getTotal() {\r\n    if (this.videojuegosCarro) {\r\n      return this.videojuegosCarro.reduce(\r\n        (i, j) => i + j.videojuego.precio * j.cantidad, 0\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  realizarCompra() {\r\n    console.log('Compra realizada');\r\n  }\r\n}\r\n","export default \".style-item-cart {\\n  font-size: 22px;\\n  font-weight: 600;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcY2Fycm8tY29tcHJhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQUNGIiwiZmlsZSI6ImNhcnJvLWNvbXByYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3R5bGUtaXRlbS1jYXJ0IHtcclxuICBmb250LXNpemU6IDIycHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG4iXX0= */\";"],"sourceRoot":"webpack:///"}